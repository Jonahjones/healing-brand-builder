/* Global CSS - Imported once before CSS modules */

:root{ --header-h:72px; --page-top-gap:clamp(16px,2.2vw,28px); --gutter:clamp(16px,2vw,24px); --gutter-lg:clamp(20px,3vw,32px); --container-max:1200px; }

.page--pricing main{ padding-top: calc(var(--header-h) + 8px); }
.page--pricing main::before{ content:none !important; }

.page--pricing main > * { width:min(100%, var(--container-max)); margin-inline:auto; }

/* absolutely no stacked margins before/after hero */
.page--pricing main > * { margin-top:0 !important; position:static !important; top:auto !important; }

/* but give a small rhythm after the hero */
.page--pricing main > *:first-child + * { margin-top: clamp(12px,1.6vw,20px) !important; }
.page--pricing main > * + *             { margin-top: var(--gutter-lg); }

@media (min-width:1024px){
  .page--pricing main{
    display:grid;
    grid-template-columns:minmax(0,1fr) minmax(360px,420px);
    column-gap:var(--gutter-lg);
    row-gap:var(--gutter-lg);
    align-items:start;
    grid-auto-flow:row dense;             /* pack tightly, no empty rows */
    grid-auto-rows:min-content;           /* rows shrink to content */
  }

  /* HERO: prefer explicit data-role, otherwise just take the first child */
  .page--pricing [data-role="pricing-hero"]{ grid-column:1 / -1; }
  .page--pricing main > *:first-child      { grid-column:1 / -1; } /* fallback if no data-role */

  /* TILES LEFT + SESSION RIGHT: prefer data-roles… */
  .page--pricing [data-role="pricing-tiles"]   { grid-column:1; align-self:start; }
  .page--pricing [data-role="session-pricing"] { grid-column:2; align-self:start; }

  /* …fallback if attributes are missing: choose the 4-tile block as "tiles" and the pricing card as "session" */
  .page--pricing main > .card:has(> ul, > ol, > .tiles, > [class*="tile"]) { grid-column:1; }
  .page--pricing main > .card:has(> h2, > h3):has(> :where(p,ul,ol))      { grid-column:2; }

  /* DETAILS ALWAYS FULL-WIDTH (explicit > fallback) */
  .page--pricing [data-role="pricing-details"]{ grid-column:1 / -1; }
  .page--pricing main > .card:has(> h2:matches(:contains("Insurance"), :contains("Payment"))) { grid-column:1 / -1; }
}

/* internal 2×2 for the four tiles; harmless if it's already a grid */
@media (min-width: 900px){
  .page--pricing [data-role="pricing-tiles"],
  .page--pricing main > .card:has([class*="tile"]) {
    display:grid; grid-template-columns:1fr 1fr; gap:var(--gutter);
  }
}

/* LAST LINE OF DEFENSE: any direct child that isn't hero/tiles/session/details just spans the row and cannot create a floating empty track */
@media (min-width:1024px){
  .page--pricing main > :not([data-role="pricing-hero"]):not([data-role="pricing-tiles"]):not([data-role="session-pricing"]):not([data-role="pricing-details"]) {
    grid-column:1 / -1 !important;
    margin-top:0 !important;
  }
}

/* Keep anchors visible under the sticky header */
section[id]{ scroll-margin-top: calc(var(--header-h) + 8px); }

/* Toast must never block the page */
#react-hot-toast{ pointer-events:none !important; }
#react-hot-toast>*{ pointer-events:auto !important; }
#react-hot-toast [role="status"]{
  background:#fff !important; backdrop-filter:none !important; -webkit-backdrop-filter:none !important;
  border:1px solid rgba(16,24,40,.08) !important; border-radius:16px !important;
  box-shadow:0 10px 30px rgba(16,24,40,.12) !important;
}

/* Ensure nothing blocks interaction */
main, .page { user-select: text; }

/* Skip link accessibility */
.skip-link { position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden; }
.skip-link:focus {
  position: fixed; left: 12px; top: calc(var(--header-h,72px) + 12px);
  width: auto; height: auto; background: #fff; color: #111; padding: 8px 12px; border-radius: 8px;
  box-shadow: 0 6px 20px rgba(0,0,0,.15); z-index: 10000;
}
:focus-visible { outline: 2px solid #111; outline-offset: 2px; }